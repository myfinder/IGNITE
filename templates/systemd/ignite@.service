[Unit]
Description=IGNITE %i
Documentation=https://github.com/myfinder/IGNITE
After=network-online.target
Wants=network-online.target

[Service]
Type=oneshot
RemainAfterExit=yes

EnvironmentFile=-%h/.config/ignite/env.%i

# headless モード (opencode): tmux 不要、HTTP 通信で動作
# TUI モード (claude): tmux セッション内で動作
ExecStart=%h/.local/share/ignite/scripts/ignite start --daemon -s %i
ExecStop=%h/.local/share/ignite/scripts/ignite stop -y -s %i

TimeoutStartSec=300
TimeoutStopSec=30

[Install]
WantedBy=default.target
